#include <stdio.h>

int main() {
    int n, i, j;
    float avgWT = 0, avgTAT = 0;

    printf("Enter number of processes: ");
    scanf("%d", &n);

    int P[n], BT[n], PR[n], WT[n], TAT[n];

    // Input
    for (i = 0; i < n; i++) {
        P[i] = i + 1;
        printf("Enter Burst Time for P%d: ", i+1);
        scanf("%d", &BT[i]);
        printf("Enter Priority for P%d: ", i+1);
        scanf("%d", &PR[i]);
    }

    // Sort by priority (lower value = higher priority)
    for (i = 0; i < n - 1; i++) {
        for (j = i + 1; j < n; j++) {
            if (PR[i] > PR[j]) {
                int temp;

                temp = PR[i]; PR[i] = PR[j]; PR[j] = temp;
                temp = BT[i]; BT[i] = BT[j]; BT[j] = temp;
                temp = P[i];  P[i]  = P[j];  P[j]  = temp;
            }
        }
    }

    // Waiting Time
    WT[0] = 0;
    for (i = 1; i < n; i++) {
        WT[i] = WT[i - 1] + BT[i - 1];
    }

    // Turnaround Time
    for (i = 0; i < n; i++) {
        TAT[i] = WT[i] + BT[i];
    }

    // Averages
    for (i = 0; i < n; i++) {
        avgWT += WT[i];
        avgTAT += TAT[i];
    }

    avgWT /= n;
    avgTAT /= n;

    // Output
    printf("\nProcess\tBT\tPriority\tWT\tTAT\n");
    for (i = 0; i < n; i++) {
        printf("P%d\t%d\t%d\t\t%d\t%d\n", P[i], BT[i], PR[i], WT[i], TAT[i]);
    }

    printf("\nAverage Waiting Time     = %.2f", avgWT);
    printf("\nAverage Turnaround Time  = %.2f\n", avgTAT);

    return 0;
}
INPUT
Enter number of processes: 4

P1: BT = 10  Priority = 3
P2: BT = 1   Priority = 1
P3: BT = 2   Priority = 4
P4: BT = 5   Priority = 2
OUTPUT
Process BT  Priority   WT  TAT
P2       1     1       0   1
P4       5     2       1   6
P1      10     3       6   16
P3       2     4      16   18

Average Waiting Time     = 5.75
Average Turnaround Time  = 10.25
